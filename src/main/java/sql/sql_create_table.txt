BEGIN;

--運勢マスタテーブル

CREATE TABLE UNSEIMASTER (

		UNSEI_CODE		VARCHAR(3),
		UNSEI_NAME		VARCHAR(3)	NOT NULL,
		UPDATE_BY		VARCHAR(10),
		UPDATE_DATE		DATE,
		CREATE_BY		VARCHAR(10)	NOT NULL,
		CREATE_DATE		DATE	NOT NULL,
	
		CONSTRAINT pk_unsei_code PRIMARY KEY(UNSEI_CODE)

);

--おみくじテーブル

CREATE TABLE OMIKUJI (
		
		OMIKUJI_CODE		INTEGER,
		UNSEI_CODE		VARCHAR(3)	NOT NULL,
		NEGAIGOTO		VARCHAR(30)	UNIQUE,
		AKINAI			VARCHAR(30)	UNIQUE,
		GAKUMON			VARCHAR(30)	UNIQUE,
		UPDATE_BY		VARCHAR(10),
		UPDATE_DATE		DATE,
		CREATE_BY		VARCHAR(10)	NOT NULL,
		CREATE_DATE		DATE	NOT NULL,

		CONSTRAINT		PK_OMIKUJI_CODE	PRIMARY KEY(OMIKUJI_CODE),
		CONSTRAINT		FK_UNSEI_CODE	FOREIGN KEY(UNSEI_CODE)	REFERENCES	UNSEIMASTER(UNSEI_CODE)
	
);

--結果テーブル

CREATE TABLE RESULT (

		URANAI_DATE		DATE	NOT NULL,
		BIRTHDAY		DATE	NOT NULL,
		OMIKUJI_CODE		INTEGER		NOT NULL,
		UPDATE_BY		VARCHAR(10),
		UPDATE_DATE		DATE,
		CREATE_BY		VARCHAR(10)	NOT NULL,
		CREATE_DATE		DATE	NOT NULL,
	
		CONSTRAINT		FK_OMIKUJI_CODE		FOREIGN KEY(OMIKUJI_CODE)	REFERENCES	OMIKUJI(OMIKUJI_CODE)

);
COMMIT;